{% extends 'base.html' %}
{% load static %}
{% block content %}
{% include 'navbar.html' %}
<div class="content" style=" margin-left: 206px;  margin-top: 1;">
    <section class="content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <br>
                    <h3 class="text-center"><i class="fas fa-users me-2"></i>Lista de usuarios</h3>
                    <br>
                    <div class="card card-body" style="overflow:visible">
                        <br>
                        <table class="table table-hover " id="userTable">
                            <thead>
                                <tr>
                                    <th># ID</th>
                                    <th>Nombre de Usuario</th>
                                    <th>Email</th>
                                    <th>Rol</th>
                                    <th>Opciones</th>
                                </tr>
                            </thead>
                            <tbody class="text-dark">
                                {% for user in users %}
                                <tr>
                                    <td>{{ user.id }}</td>
                                    <td>{{ user.username }}</td>
                                    <td>{{ user.email }}</td>
                                    <td>{{ user.role }}</td>
                                    <td>
                                        <button onclick="" class="btn btn-dark-outline btn-sm" data-toggle="modal"
                                            href="">
                                            <img src="" alt="Editar" width="30">
                                        </button>
                                        <button onclick="" class="btn btn-dark-outline btn-sm" data-toggle="modal"
                                            href="">
                                            <img src="" alt="Eliminar" width="30">
                                        </button>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    <br>
                    <div class="col-md-3 pb-2">
                        
                        <button type="button" class="btn btn-secondary mb-3" data-bs-toggle="modal" data-bs-target="#addUserModal">
                            Agregar Usuario
                            <i class="fas fa-plus-circle"></i>
                        </button>
                        
                    </div>
                </div>
            </div>
        </div>
         
    </section>
</div>

<div class="modal fade" id="addUserModal" tabindex="-1" aria-labelledby="addUserModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addUserModalLabel">Agregar Usuario</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row justify-content-center">
                    <section class="col-md-8 mt-5">
                        <form method="POST" class="card card-body">
                            <h1 class="text-center">Signup</h1>
                            {{ error }}
                            {% csrf_token %}
                            <hr>
            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="nombre">Nombre:</label>
                                    <input type="text" name="nombre" id="nombre" class="form-control" placeholder="Ingrese nombre">
                                </div>
                
                                <div class="col-md-6 mb-3">
                                    <label for="apellido">Apellido:</label>
                                    <input type="text" name="apellido" id="apellido" class="form-control" placeholder="Ingrese apellido">
                                </div>
                
                                <div class="col-md-6 mb-3">
                                    <label for="correo">Email:</label>
                                    <input type="email" name="correo" id="correo" class="form-control" placeholder="Ingrese correo electronico">
                                </div>
                
                                <div class="col-md-6 mb-3">
                                    <label for="usuario">Usuario:</label>
                                    <input type="text" name="usuario" id="usuario" class="form-control" placeholder="Ingrese nombre de usuario">
                                </div>
                            </div>
            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="password1">Contrase単a:</label>
                                    <input type="password" name="password1" id="password1" class="form-control" placeholder="Ingrese contrase単a">
                                </div>
                
                                <div class="col-md-6 mb-3">
                                    <label for="password2">Confirme contrase単a:</label>
                                    <input type="password" name="password2" id="password2" class="form-control" placeholder="Confirme contrase単a">
                                </div>
                
                                <div class="col-md-6 mb-3">
                                    <label for="telefono">Telefono:</label>
                                    <input type="tel" name="telefono" id="telefono" class="form-control" placeholder="Ingrese numero de telefono">
                                </div>
            
                                <div class="col-md-6 mb-3">
                                    <label for="user_type">Tipo de Usuario:</label>
                                    <select name="user_type" id="user_type" class="form-control">
                                        <option value="basic">Vendedor</option> 
                                        <option value="admin">Administrador</option> 
                                    </select>
                                </div>
            
                            </div>
                            
                            <button class="btn btn-primary style="width: 100px;  height: 50px;">
                                Signup
                            </button>
            
                        </form>
                    </section>
                </div>


            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div> 




{% if messages %}
    {% for message in messages %}
    <script>
        Swal.fire({
            icon: 'error',
            title: 'Error...',
            text: "{{ message }}",
        })
    </script>
    {% endfor %}
{% endif %}
{% endblock content %}
{% block javascript %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
{% endblock javascript %}
